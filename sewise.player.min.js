/*
 * Name: SewisePlayer framework 3.0.0
 * Author: keyun
 * Website: http://player.sewise.com
 * Date: October 26, 2015
 * Copyright: 2013-2016, Sewise
 * Mail: keyun@sewise.com
 * QQ: 
 * 
 */

!function(a){a.Sewise=a.Sewise||{name:"Sewise Player",version:"3.0.0",build:"2016.1.30 19:00"},a.SewisePlayerSkin=a.SewisePlayerSkin||{}}(window),function(){Sewise.Utils={jsonp:function(a){var b=a.url,c=a.jsonp,d=a.jsonpCallback,e=a.data,f=a.success,g="";for(var h in e)g+="&"+h+"="+e[h];g="?"+g.slice(1),void 0===c&&(c="callback"),void 0===d&&(d="callbackFun"+(new Date).getTime());var i="&"+c+"="+d,j=b+g+i,k=document.createElement("script");k.setAttribute("type","text/javascript"),k.src=j,document.body.appendChild(k),window[d]=f,k.onload=k.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||document.body.removeChild(k)}},getScript:function(a){var b=a.url,c=a.data,d=a.success,e="";for(var f in c)e+="&"+f+"="+c[f];e="?"+e.slice(1);var g=b+e,h=document.createElement("script");h.setAttribute("type","text/javascript"),h.src=g,document.body.appendChild(h),h.onload=h.onreadystatechange=function(){d(),this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||document.body.removeChild(h)}},getParameters:function(a){var b,c,d=document.getElementsByTagName("script");try{for(var e=d.length,f=0;e>f;f++){var g=d[f].src.split("#"),h=g[0],i=h.split("/");if(h=1==i.length?i[0]:i[i.length-1],h==a[0]||h==a[1]){if(b=g.length>1?g[1].split("&"):[],c=d[f],h==a[0]||h==a[1]){var j=g[0].lastIndexOf("/");j>0&&(Sewise.localPath=g[0].slice(0,j+1))}break}}for(var k,l,m,n={},o=0,p=b.length;p>o;o++)k=b[o].split("="),l=k[0],m=k[1],"undefined"==typeof n[l]?n[l]=m:"string"==typeof n[l]?(n[l]=[n[l]],n[l].push(m)):n[l].push(m);return n.scriptElement=c,n}catch(q){return[]}},parseURL:function(a){var b,c={protocol:/([^\/]+:)\/\/(.*)/i,host:/(^[^\:\/]+)((?:\/|:|$)?.*)/,port:/\:?([^\/]*)(\/?.*)/,pathname:/([^\?#]+)(\??[^#]*)(#?.*)/},d={};d.href=a;for(var e in c)b=c[e].exec(a),b&&(d[e]=b[1],a=b[2],""===a&&(a="/"),"pathname"===e&&(d.pathname=b[1],d.search=b[2],d.hash=b[3]));return d.segments=d.pathname.split("/"),d},object:{isEmpty:function(a){for(var b in a)return!1;return!0},paramsLength:function(a){var b=0;for(var c in a)b++;return b}},browser:{versions:function(){{var a=navigator.userAgent;navigator.appVersion}return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1,iPhone:a.indexOf("iPhone")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari")}}(),supportH5:function(){var a=!1;return navigator.geolocation&&(a=!0),a}(),supportFlash:function(){if(navigator.mimeTypes.length>0){var a=navigator.mimeTypes["application/x-shockwave-flash"];return void 0!==a?void 0!==a.enabledPlugin:!1}if(self.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(b){return!1}}(),supportHls:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}(),language:(navigator.browserLanguage||navigator.language).toLowerCase(),ieVersionNumber:function(){/MSIE\s*(\d+)/i.test(navigator.userAgent);var a=parseInt(RegExp.$1?RegExp.$1:0);return a}()},location:{hostname:function(a){if(a){var b=document.createElement("a");return b.href=a,b.hostname}return window.location.hostname},port:function(a){if(a){var b=document.createElement("a");return b.href=a,b.port}return window.location.port},porthost:function(a){var b,c;if(a){var d=document.createElement("a");d.href=a,b=d.hostname,c=d.port}else b=window.location.hostname,c=window.location.port;var e=b;return c&&"0"!==c&&""!==c&&(e=b+":"+c),e}},loader:{loadCssFile:function(a,b,c){function d(a){for(var b=/js$/i.test(a),c=document.getElementsByTagName(b?"script":"link"),d=0;d<c.length;d++)if(-1!=c[d][b?"src":"href"].indexOf(a))return!0;return!1}function e(a,b){function c(){a.detachEvent("onload",c),b()}a.attachEvent?a.attachEvent("onload",c):setTimeout(function(){f(a,b)},0)}function f(a,b){if(!b.isCalled){var c=!1;if(/webkit/i.test(navigator.userAgent))a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(d){1e3===d.code&&(c=!0)}c?setTimeout(function(){b()},1):setTimeout(function(){f(a,b)},1)}}if(d(a))b&&b();else{var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.href=a,b&&e(g,b),c&&(g.onerror=function(){c()}),document.getElementsByTagName("head")[0].appendChild(g)}},loadJsFile:function(a,b,c,d,e){var f=document.getElementsByTagName("head")[0],g=null;!a&&!e||"override"==a?(g=document.createElement("script"),g.type="text/javascript",g.charset="utf-8",g.src=b,c&&(g.onload=g.onreadystatechange=function(){return g.ready?!1:void(g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(g.ready=!0,c()))}),d&&(g.onerror=function(){d()}),f.appendChild(g)):c&&c()}}}}(),function(a){a.ContextMenu=function(a,b){a.oncontextmenu=function(c){c.preventDefault?c.preventDefault():c.returnValue=!1;var d=document.createElement("div");d.innerHTML='<ul class="sewise_player_contextmenu_items"><li>'+b.playerName+"</li><li>"+b.playerVersion+"</li><li>"+b.buildDate+"</li><li>--------------------------------------------------</li><li>"+b.copyright+"</li></ul>",d.style.position="absolute",d.style.width="300px",d.style.background="#eee",d.style.border="1px solid #ccc",d.style.boxShadow="3px 3px 3px rgba(0, 0, 0, 0.3)",d.style.left=c.clientX-a.getBoundingClientRect().left+"px",d.style.top=c.clientY-a.getBoundingClientRect().top+"px",d.style.zIndex=10,a.appendChild(d);var e=document.createElement("style");e.innerHTML='ul.sewise_player_contextmenu_items {margin:0; padding:0; }ul.sewise_player_contextmenu_items li {list-style: none; padding: 5px 20px; cursor: default; font-family: "MS Sans Serif", Geneva, sans-serif; font-size: 10px; }ul.sewise_player_contextmenu_items li:hover {background: #888; color: #fff; }',a.appendChild(e),document.onmousedown=function(c){c.target.textContent==b.playerName&&window.open("http://player.sewise.com/","_blank"),d&&(a.removeChild(d),a.removeChild(e),d=null,e=null)}}}}(window.Sewise),function(a){a.Sewise.localPath+"js/jquery.min.js"}(window),function(a){a.SkinUtils={stringer:{time2FigFill:function(a){var b;return a=Math.floor(a),b=10>a?"0"+a:String(a)},secondsToHMS:function(a){if(!(0>a)){var b=this.time2FigFill(Math.floor(a/3600)),c=this.time2FigFill(a/60%60),d=this.time2FigFill(a%60);return b+":"+c+":"+d}},secondsToMS:function(a){if(!(0>a)){var b=this.time2FigFill(a/60),c=this.time2FigFill(a%60);return b+":"+c}},dateToTimeString:function(a){var b;b=a?a:new Date;var c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate(),f=this.time2FigFill(b.getHours()),g=this.time2FigFill(b.getMinutes()),h=this.time2FigFill(b.getSeconds());return c+"-"+d+"-"+e+" "+f+":"+g+":"+h},dateToTimeStr14:function(a){var b=a.getFullYear(),c=this.time2FigFill(a.getMonth()+1),d=this.time2FigFill(a.getDate()),e=this.time2FigFill(a.getHours()),f=this.time2FigFill(a.getMinutes()),g=this.time2FigFill(a.getSeconds());return b+c+d+e+f+g},dateToStrHMS:function(a){var b=this.time2FigFill(a.getHours()),c=this.time2FigFill(a.getMinutes()),d=this.time2FigFill(a.getSeconds());return b+":"+c+":"+d},dateToYMD:function(a){var b=a.getFullYear(),c=this.time2FigFill(a.getMonth()+1),d=this.time2FigFill(a.getUTCDate());return b+"-"+c+"-"+d},hmsToDate:function(a){var b=a.split(":"),c=b[0]?b[0]:0,d=b[1]?b[1]:0,e=b[2]?b[2]:0,f=new Date;return f.setHours(c,d,e),f},hmsToSeconds:function(a){var b=a.split(":"),c=b[0]?parseInt(b[0]):0,d=b[1]?parseInt(b[1]):0,e=b[2]?parseInt(b[2]):0,f=3600*c+60*d+e;return f}},language:{zh_cn:{stop:"停止播放",pause:"暂停",play:"播放",fullScreen:"全屏",normalScreen:"恢复",soundOn:"打开声音",soundOff:"关闭声音",clarity:"清晰度",titleTip:" ",claritySetting:"清晰度设置",clarityOk:"确定",clarityCancel:"取消",backToLive:"回到直播",loading:"缓冲",subtitles:"字幕","default":"默认"},en_us:{stop:"Stop",pause:"Pause",play:"Play",fullScreen:"Full Screen",normalScreen:"Normal Screen",soundOn:"Sound On",soundOff:"Sound Off",clarity:"Clarity",titleTip:" ",claritySetting:"Definition Setting",clarityOk:"OK",clarityCancel:"Cancel",backToLive:"Back To Live",loading:"Loading",subtitles:"Subtitles","default":"Default"},lang:{},init:function(a){switch(a){case"en_US":this.lang=this.en_us;break;case"zh_CN":this.lang=this.zh_cn;break;default:this.lang=this.zh_cn}},getString:function(a){return this.lang[a]}},browser:{isXiaoMiBrowser:function(){var a=navigator.userAgent;return a.indexOf("MiuiBrowser")>=0?!0:!1},isHuaweiBrowser:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("huawei")>=0?!0:!1},versions:function(){{var a=navigator.userAgent;navigator.appVersion}return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari")}}()}}}(window.Sewise),function(a){a.GlobalConstant={FLASH:"flash",HTML5:"html5",VOD:"vod",LIVE:"live",AUDIO:"audio",VIDEO:"video",FLV:"flv",MP4:"mp4",RTMP:"rtmp",HTTP:"http",M3U8:"m3u8",MP3:"mp3",PLAYER_NAME:a.name,PLAYER_COPYRIGHT:"(C) All right reserved the SEWISE inc 2015-2016",PLAYER_VERSION:"Version: "+a.version,BUILD_DATE:"Build: "+a.build}}(window.Sewise),function(a){a.GlobalVars=function(){this.clarities=[]}}(window.Sewise),function(a){a.Log={trace:!0,logPrefix:"(SewisePlayer)",log:function(){if(this.trace&&"undefined"!=typeof console){var a=makeArray(arguments);return this.logPrefix&&a.unshift(this.logPrefix),console.log.apply(console,a),this}}}}(window.Sewise),function(a){a.Event={on:function(a,b){this.eventListeners||(this.eventListeners={});this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push(b)},off:function(a,b){if(!this.eventListeners)return!1;if(!this.eventListeners[a])return!1;var c=this.eventListeners[a]||[],d=c.indexOf(b);d>=0&&c.splice(d,1)},fireEvent:function(a,b){if(!this.eventListeners)return!1;if(!this.eventListeners[a])return!1;var c=this.eventListeners[a]||[];$(c).each(function(a,c){c(b)})}}}(window.Sewise),function(a){a.SewisePlayerEvent={PARAMS_READY:"paramsReady",PLAYER_READY:"playerReady",PLAYER_SKIN_LOADED:"player_skin_loaded",PLAYER_SKIN_LOADED_ERROR:"player_skin_loaded_error",STREAMS_DATA_READY:"streams_data_ready",STREAMS_DATA_FAILED:"streams_data_failed",GET_VOD_STREAMS:"get_vod_streams",GET_LIVE_STREAMS:"get_live_streams",GET_SHIFT_STREAMS:"get_shift_streams",PLAY_VIDEO:"play_video",PLAY_NEXT:"play_next",PLAY_START:"start",PLAY_PAUSE:"pause",PLAY_ENDED:"ended",DURATION_CHANGE:"durationChange",TIME_UPDATE:"timeupdate",LOAD_PROGRESS:"loadProgress",BUFFER_PROGRESS:"bufferProgress",METADATA:"metadata",SEEK:"seek",LOAD_OPEN:"bufferBegin",LOAD_COMPLETE:"bufferComplete",BEFORE_PLAY:"beforePlay",SHARE_VIDEO:"shareVideo",UPDATE_VIDEO_URL:"updateVideoUrl",CONTROLBAR_SHOW_SATE:"controlbarShowState",FLASH_HLS_EVENTS:"hlsEvents",FULLSCREEN:"fullScreen",CANCEL_FULLSCREEN:"cancelFullScreen",SKIN_SHOWSTATE_CHANGE:"skinShowStateChange"}}(window.Sewise),function(a,b){var c=a.Sewise.FlashVideo=function(a,b){this.instanceID=null,this.flashPlayer=null,this._duration=0,this.currentPlayTime=0,this.instanceID="flash_"+b,this.videoUrl="",this.isLive=a,this.type="",this.subWindow=null,this.ieVersion=0;var d=this.instanceID;c.flashInstances[d]=this};b.extend(c,{flashInstances:{}}),c.fn=c.prototype,a.playerReady=function(a){var b=c.flashInstances[a];b&&(b.flashReady(),b.fireEvent("flash_playerReady"))},a.onStart=function(a){var b=c.flashInstances[a];b&&b.fireEvent("play")},a.onBeforePlay=function(a){var b=c.flashInstances[a];b&&b.fireEvent("beforePlay")},a.onStop=function(a){var b=c.flashInstances[a];b&&b.fireEvent("ended")},a.onMetadata=function(a,b){var d=c.flashInstances[b];if(d){var e=JSON.parse(a);e.duration&&(d._duration=e.duration),d.fireEvent("durationchange"),d.fireEvent("loadedmetadata",e)}},a.onClarity=function(){},a.onPause=function(a){var b=c.flashInstances[a];b&&b.fireEvent("pause")},a.onSeek=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("seeking",a)},a.onPlayTime=function(a,b){var d=c.flashInstances[b];if(d){if(d.isLive&&"m3u8"==d.type){var e=new Date;e.setTime(e.getTime()+1e3*a),d.currentPlayTime=e}else d.currentPlayTime=a;d.fireEvent("timeupdate")}},a.onBuffer=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("bufferprogress",a)},a.onBufferEmpty=function(a){var b=c.flashInstances[a];b&&b.fireEvent("seeking")},a.onBufferFull=function(a){var b=c.flashInstances[a];b&&b.fireEvent("seeked")},a.onLoadProgress=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("progress",a)},a.onFlashStageClick=function(a){var b=c.flashInstances[a];b&&b.fireEvent("singleClick")},a.onFlashDoubleClick=function(a){var b=c.flashInstances[a];b&&b.fireEvent("doubleClick")},a.flashlsCallback=function(a,b,d){var e=c.flashInstances[d];if(e){var f={eventName:a,data:b};e.fireEvent("hlsEvents",f)}},a.onSkinShowState=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("skinStateChange",a)},c.fn.handleIframeFlashCall=function(){var b=this.subWindow;b.onPlayTime=function(b,c){a.onPlayTime(b,c)},b.playerReady=function(b){a.playerReady(b)},b.onBeforePlay=function(b){a.onBeforePlay(b)},b.onStart=function(b){a.onStart(b)},b.onStop=function(b){a.onStop(b)},b.onMetadata=function(b,c){a.onMetadata(b,c)},b.onPause=function(b){a.onPause(b)},b.onSeek=function(b,c){a.onSeek(b,c)},b.onBuffer=function(b,c){a.onBuffer(b,c)},b.onBufferEmpty=function(b){a.onBufferEmpty(b)},b.onBufferFull=function(b){a.onBufferFull(b)},b.onLoadProgress=function(b,c){a.onLoadProgress(b,c)},b.onFlashStageClick=function(b){a.onFlashStageClick(b)},b.onFlashDoubleClick=function(b){a.onFlashDoubleClick(b)},b.onClarity=function(){},b.flashlsCallback=function(b,c,d){a.flashlsCallback(b,c,d)},b.onSkinShowState=function(b,c){a.onSkinShowState(b,c)}},a.Sewise.Event.addEventListener=a.Sewise.Event.on,a.Sewise.Event.removeEventListener=a.Sewise.Event.off,b.extend(c.prototype,a.Sewise.Event,{play:function(){this.flashPlayer&&this.flashPlayer.doPlay()},stop:function(){this.flashPlayer&&this.flashPlayer.doStop()},pause:function(){this.flashPlayer&&this.flashPlayer.doPause()},seek:function(a){this.flashPlayer&&this.flashPlayer.doSeek(a)},live:function(){this.flashPlayer&&this.flashPlayer.doLive()},liveTime:function(){if(this.flashPlayer){var a;return a=this.isLive&&"m3u8"==this.type?this.currentPlayTime:this.flashPlayer.liveTime()}},setDuration:function(a){this.flashPlayer&&this.flashPlayer.setDuration(a)},refreshTimeSpan:function(a,b,c,d){this.flashPlayer&&this.flashPlayer.refreshTimeSpan(a,b,c,d)},playProgram:function(a,b,c){this.flashPlayer&&this.flashPlayer.playProgram(a,b,c)},playChannel:function(a,b,c){this.flashPlayer&&this.flashPlayer.playChannel(a,b,c)},toPlay:function(a,b,c,d){this.flashPlayer&&this.flashPlayer.toPlay(a,b,c,d)},flashReady:function(){},renderTo:function(c,d){function e(){swfobject.embedSWF(h,o,"100%","100%","9.0.115",!1,c,i,j,function(){l.flashPlayer=document.getElementById(l.instanceID)})}function f(a,c){var d=g(a),e='<object name="'+j.name+'" width="100%" height="100%"  style="margin:0 0 0 0" id="'+j.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param name="allowfullscreen" value="false"/><param name="wmode" value="transparent"/><param name="allowScriptAccess" value="always"/><param name="flashvars" value="'+d+'"/><param name="movie" value="'+h+'"/></object>',f=document.createElement("iframe");if(f.frameBorder=0,f.marginHeight=0,f.marginWidth=0,f.scrolling="no",f.style.width="100%",f.style.height="100%",c.append(f),f.contentWindow.document.write(e),f.contentWindow.document.body.style.backgroundColor="#000000",l.subWindow=f.contentWindow,l.flashPlayer=f.contentDocument.getElementById(j.id),l.handleIframeFlashCall(),l.ieVersion>0&&l.ieVersion<=10){var i=b(f).height()+"px";b(l.flashPlayer).css("height",i),b(f).bind("sewiseIframeResize",function(){var a=b(f).height()+"px";b(l.flashPlayer).css("height",a)})}}function g(a){var b;for(var c in a)"undefined"!=typeof b?b+="&"+c+"="+a[c]:b=c+"="+a[c];return b}var h,i={allowfullscreen:!1,wmode:"transparent",allowscriptaccess:"always"},j={id:this.instanceID,name:this.instanceID},k=c.swfPath;h=k?this.mediaType==a.Sewise.GlobalConstant.AUDIO?k+"flash/plugins/AudioPlayer.swf":k+"flash/SewisePlayer.swf":this.mediaType==a.Sewise.GlobalConstant.AUDIO?a.Sewise.localPath+"flash/plugins/AudioPlayer.swf":a.Sewise.localPath+"flash/SewisePlayer.swf";var l=this;this._duration=c.duration,this.type=c.type,c.programId="","m3u8"==c.type&&!c.videoUrl&&c.streamUrl&&(c.videoUrl=c.streamUrl);var m=a.Sewise.Utils.browser.ieVersionNumber;if(m>0&&10>=m)this.ieVersion=m,f(c,d);else{var n=document.createElement("div"),o="swfBox"+this.instanceID;n.id=o,d.append(n);var p=a.Sewise.localPath+"js/swfobject.js";a.Sewise.Utils.loader.loadJsFile(a.swfobject,p,e)}}}),c.fn.setVolume=function(a){this.flashPlayer&&this.flashPlayer.setVolume(a)},c.fn.muted=function(a){this.flashPlayer&&(a?this.flashPlayer.setVolume(0):this.flashPlayer.recoverVolume())},c.fn.getCurrentTime=function(){return this.currentPlayTime},c.fn.setCurrentTime=function(a){this.currentPlayTime=a,this.flashPlayer&&this.flashPlayer.doSeek(a)},c.fn.getDuration=function(){return this._duration},c.fn.src=function(a){return a?(this.videoUrl=a,void(this.flashPlayer&&this.fireEvent("canplay"))):this.videoUrl}}(window,window.jQuery),function(a,b){var c=a.PlayController=function(b,c,d){this.sewisePlayer=d,this.globalParam=b,this.isLive=b.server==a.GlobalConstant.LIVE?!0:!1,this.playVars=this.globalParam.getPlayVars(),this.playerType=this.globalParam.playerType,this.sewiseVideo=new a.SewiseVideo(this.playerType,this.isLive,c),this.skinController=null,this.videoContainer=null,this.playerID=c,this.globalVars=new a.GlobalVars,this.livePlayTime=null,this.serverTime=null,this.startMilliTime=0,this.timeZoneOffsetTime=0,this.isHtml5=this.playerType==a.GlobalConstant.HTML5?!0:!1};c.fn=c.prototype,b.extend(c.fn,a.Event),c.fn.startup=function(c,d){this.videoContainer=c;var e=new a.PlayerSkinLoader(d,this.playVars.skin);if(e.on(a.SewisePlayerEvent.PLAYER_SKIN_LOADED,b.proxy(this.handleSkinLoaded,this)),e.load(this.playVars.skinClass),this.registerDataEvents(),this.playerType==a.GlobalConstant.HTML5){new a.ContextMenu(this.sewisePlayer.getPlayerContainer(),this.playVars)}},c.fn.handleSkinLoaded=function(){this.skinController=new a.SkinController(this.playerID,this.playVars.skinClass,this.globalParam.server),this.skinController.logo(this.playVars.logo),this.skinController.lang(this.playVars.lang),this.skinController.clarityBtnDisplay(this.playVars.clarityBtnDisplay),this.skinController.timeDisplay(this.playVars.timeDisplay),this.skinController.controlBarDisplay(this.playVars.controlBarDisplay),this.skinController.topBarDisplay(this.playVars.topBarDisplay),this.skinController.bigPlayBtnDisplay(this.playVars.bigPlayBtnDisplay),this.skinController.customDatas(this.playVars.customDatas),this.skinController.player(this),this.skinController.volume(this.playVars.volume),this.isLive&&this.skinController.duration(this.playVars.duration),this.createSewiseVideo(),this.sewiseVideo.controls(!1),this.isLive?this.playVars.shiftTime?this.getShiftStreams():this.getLiveStreams():this.getStreams()},c.fn.getStreams=function(){var b=this,c=this.playVars;if(c.programId)return void a.Utils.jsonp({url:c.serverPath+c.programId,jsonp:"callback",data:{mode:"vod",protocal:c.protocal},success:function(d){c.videoUrl=d.url;var e=d.url.substr(d.url.length-4,4);c.type=e.indexOf("mp4")>=0?"mp4":e.indexOf("flv")>=0?"flv":a.GlobalConstant.M3U8;var f={name:"默认",videoUrl:c.videoUrl,id:0,selected:!0};b.globalVars.clarities.push(f),b.streamsReadyNotice(c)}});if(c.videosJsonUrl){if(this.playerType==a.GlobalConstant.HTML5)this.parseVodData(c,c.videosJsonUrl);else{var d=JSON.parse(decodeURIComponent(c.videosJsonUrl));this.parseVodData(c,d)}return void this.streamsReadyNotice(c)}if(c.videoUrl){var e={name:"默认",videoUrl:c.videoUrl,id:0,selected:!0};this.globalVars.clarities.push(e),this.streamsReadyNotice(c)}else"#"===c.url?this.streamsReadyNotice(c):this.streamsFailedNotice()},c.fn.parseVodData=function(a,b){a.title=b.programname;var c,d=b.videos;this.globalVars.clarities=[];for(var e=0;e<d.length;e++){var f=d[e],g={name:"",videoUrl:"",id:0,selected:!1};g.name=f.name?f.name:"",g.selected=f.selected?f.selected:!1,g.videoUrl=f.url,g.id=e,this.globalVars.clarities.push(g),g.selected&&(c=g,c.selected=!0,a.videoUrl=c.videoUrl)}c||(c=this.globalVars.clarities[0],c.selected=!0,a.videoUrl=c.videoUrl)},c.fn.streamsReadyNotice=function(a){this.isLive?this.initTimes(a):this.skinController.initialClarity(this.globalVars.clarities),this.skinController.programTitle(a.title),this.skinController.getVideo(),this.readyPlay(a)},c.fn.streamsFailedNotice=function(){alert(a.SewisePlayerEvent.STREAMS_DATA_FAILED)},c.fn.updatePlayTime=function(){var b=this,c=this.playVars;c.streamId&&a.Utils.getScript({url:c.serverPath,data:{"do":"epg",op:"getplaytime",sessionid:c.sessionId,streamid:c.streamId,key:c.key},success:function(){return this.error?void alert(this.error):(epgTimes.livetime&&(c.liveTime=epgTimes.livetime),epgTimes.servertime&&(c.serverTime=epgTimes.servertime),void b.initTimes(c))}})},c.fn.initTimes=function(a){this.livePlayTime=a.liveTime?new Date(1e3*a.liveTime):new Date,this.startMilliTime=this.livePlayTime.getTime(),a.serverTime?this.serverTime=new Date(1e3*a.serverTime):this.serverTime||(this.serverTime=this.livePlayTime)},c.fn.getLiveStreams=function(){var b=this.playVars,c=this;return b.programId?void a.Utils.jsonp({url:b.serverPath+b.programId,data:{mode:"live",protocal:b.protocal},success:function(d){b.streamUrl=d.url;var e=a.Utils.parseURL(d.url);b.type="rtmp:"==e.protocol?"rtmp":a.GlobalConstant.M3U8,c.streamsReadyNotice(b)}}):void(b.streamUrl?this.streamsReadyNotice(b):"#"===b.url||this.streamsFailedNotice())},c.fn.getShiftStreams=function(){var b=this.playVars,c=this;a.Utils.jsonp({url:b.serverPath+b.programId,data:{mode:"timeshift",protocal:b.protocal},success:function(a){b.streamUrl=a.url,c.streamsReadyNotice(b)}})},c.fn.createSewiseVideo=function(){this.registerVideoEvents(),this.sewiseVideo.init(this.playVars,this.videoContainer)},c.fn.readyPlay=function(b){var c=this;this.sewiseVideo.on("sewiseVideoReady",function(){if(c.playerType==a.GlobalConstant.HTML5)if(c.isLive)c.sewiseVideo.updatePlayer(b.streamUrl,b.buffer,b.shiftTime,b.poster,b.type,b.fallbackUrls,b.volume,b.hlsjs),c.sewiseVideo.play();else if(c.sewiseVideo.updatePlayer(b.videoUrl,b.buffer,b.startTime,b.poster,b.type,b.fallbackUrls,b.volume,b.hlsjs),b.autoStart)if(b.startTime>0)c.sewiseVideo.seek(b.startTime);else{if("#"===c.playVars.url)return;c.sewiseVideo.play()}c.skinController.setScreenEvent()}),this.loadPlugins(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAYER_READY),this.sewiseVideo.readyPlay()},c.fn.loadPlugins=function(){var a=this.sewisePlayer.plugins||{};for(var b in a)a[b].init(this.sewisePlayer)},c.fn.registerDataEvents=function(){this.on(a.SewisePlayerEvent.GET_VOD_STREAMS,b.proxy(function(){this.getStreams()},this)),this.on(a.SewisePlayerEvent.GET_LIVE_STREAMS,b.proxy(function(){this.getLiveStreams()},this)),this.on(a.SewisePlayerEvent.GET_SHIFT_STREAMS,b.proxy(function(){this.getShiftStreams()},this))},c.fn.registerVideoEvents=function(){this.sewiseVideo.on(a.SewisePlayerEvent.PLAY_START,b.proxy(this.playStartHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.PLAY_PAUSE,b.proxy(this.playPauseHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.PLAY_ENDED,b.proxy(this.playEndedHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.DURATION_CHANGE,b.proxy(this.durationChangeHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.TIME_UPDATE,b.proxy(this.timeupdateHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.LOAD_PROGRESS,b.proxy(this.loadProgressHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.BUFFER_PROGRESS,b.proxy(this.bufferProgressHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.LOAD_OPEN,b.proxy(this.loadedOpenHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.LOAD_COMPLETE,b.proxy(this.loadedCompleteHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.METADATA,b.proxy(this.metadataHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.SEEK,b.proxy(this.seekHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.BEFORE_PLAY,b.proxy(this.beforePlayHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.FLASH_HLS_EVENTS,b.proxy(this.hlsEventHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.SKIN_SHOWSTATE_CHANGE,b.proxy(this.skinStateChangeHandler,this))},c.fn.playStartHandler=function(){this.skinController.started(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_START),this.isLive&&this.updatePlayTime()},c.fn.playPauseHandler=function(){this.skinController.paused(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_PAUSE)},c.fn.playEndedHandler=function(){this.skinController.stopped(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_ENDED)},c.fn.durationChangeHandler=function(){this.skinController.duration(this.sewiseVideo.duration()),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.DURATION_CHANGE)},c.fn.timeupdateHandler=function(){var b=this.sewiseVideo.currentTime();this.isLive?(this.livePlayTime=new Date(this.startMilliTime+1e3*b),this.skinController.timeUpdate(null)):this.skinController.timeUpdate(b),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.TIME_UPDATE)},c.fn.metadataHandler=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.METADATA,b)},c.fn.seekHandler=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.SEEK,b)},c.fn.beforePlayHandler=function(){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY)},c.fn.loadProgressHandler=function(b){var c=b.progress;this.isLive||this.skinController.loadedProgress(c),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.LOAD_PROGRESS,{progress:b.progress})},c.fn.hlsEventHandler=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.FLASH_HLS_EVENTS,b)},c.fn.skinStateChangeHandler=function(a){var c=this.sewisePlayer.skinContainer;"show"==a?b(c).css("display","block"):b(c).css("display","none")},c.fn.bufferProgressHandler=function(b){this.skinController.bufferProgress(b.progress),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.BUFFER_PROGRESS,{progress:b.progress})},c.fn.loadedOpenHandler=function(){"#"!==this.playVars.url&&(this.skinController.loadedOpen(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.LOAD_OPEN))},c.fn.loadedCompleteHandler=function(){this.skinController.loadedComplete(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.LOAD_COMPLETE)},c.fn.live=function(){this.playerType==a.GlobalConstant.HTML5?this.fireEvent(a.SewisePlayerEvent.GET_LIVE_STREAMS):this.sewiseVideo.live()},c.fn.play=function(){"#"!==this.playVars.url&&this.sewiseVideo.play()},c.fn.pause=function(){"#"!==this.playVars.url&&this.sewisePlayer.timeupdateOpen&&this.sewiseVideo.pause()},c.fn.seek=function(b){if("#"!==this.playVars.url)if(this.isLive){if(!this.playVars.draggable)return void alert("时移已被禁用!");if(this.playerType==a.GlobalConstant.HTML5){var c=b;this.playVars.shiftTime=c,this.fireEvent(a.SewisePlayerEvent.GET_SHIFT_STREAMS)}else this.sewiseVideo.seek(b)}else this.sewiseVideo.seek(b)},c.fn.stop=function(){this.sewiseVideo.stop(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_ENDED)},c.fn.changeClarity=function(a){var b=a.videoUrl,c=this.playTime()>0?this.playTime():0;this.toPlay(b,this.playVars.title,c,!0)},c.fn.setVolume=function(a){this.sewiseVideo.volume(a),this.skinController&&this.skinController.volume(a)},c.fn.muted=function(a){this.sewiseVideo.muted(a),this.skinController&&this.skinController.muted(a)},c.fn.changeControlBarShowState=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.CONTROLBAR_SHOW_SATE,{isShow:b})},c.fn.changeFullScreen=function(b){this.sewisePlayer.fireEvent(b?a.SewisePlayerEvent.FULLSCREEN:a.SewisePlayerEvent.CANCEL_FULLSCREEN)},c.fn.playProgram=function(b,c,d){this.playVars.programId=b,this.playVars.startTime=c,this.playVars.autoStart=d,this.playVars.title="",this.playerType==a.GlobalConstant.HTML5?this.fireEvent(a.SewisePlayerEvent.GET_VOD_STREAMS):this.sewiseVideo.playProgram(b,c,d)},c.fn.playChannel=function(b,c,d){this.playVars.programId=b,this.playVars.shiftTime=c,this.playVars.autoStart=d,this.playVars.title="",this.playerType==a.GlobalConstant.HTML5?this.fireEvent(this.playVars.shiftTime?a.SewisePlayerEvent.GET_SHIFT_STREAMS:a.SewisePlayerEvent.GET_LIVE_STREAMS):this.sewiseVideo.playProgram(b,c,d)},c.fn.updateVideosjsonurl=function(a){var b=this.playVars;this.parseVodData(b,a),this.skinController.initialClarity(this.globalVars.clarities),this.toPlay(b.videoUrl,b.title,0,b.autoStart)},c.fn.toPlay=function(b,c,d,e){var f=this.playVars;f.videoUrl=b,f.title=c,f.startTime=d,f.autoStart=e,f.url=b,this.skinController.programTitle(f.title),this.playerType==a.GlobalConstant.HTML5?(this.sewiseVideo.updatePlayer(f.videoUrl,f.buffer,f.startTime,f.poster,f.type,f.fallbackUrls,f.volume,f.hlsjs),f.autoStart&&(f.startTime>0?this.sewiseVideo.seek(f.startTime):this.sewiseVideo.play()),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.UPDATE_VIDEO_URL,{url:b})):this.sewiseVideo.toPlay(b,c,d,e)},c.fn.toLivePlay=function(b,c,d,e){var f=this.playVars;f.streamUrl=b,f.title=c,f.shiftTime=d,f.autoStart=e,f.url=b,this.skinController.programTitle(f.title),this.playerType==a.GlobalConstant.HTML5?this.fireEvent(f.shiftTime?a.SewisePlayerEvent.GET_SHIFT_STREAMS:a.SewisePlayerEvent.GET_LIVE_STREAMS):this.sewiseVideo.toPlay(b,c,d,e)},c.fn.duration=function(){return this.isLive?this.playVars.duration:this.sewiseVideo.duration()},c.fn.liveTime=function(a){return this.isHtml5?a&&0!==this.timeZoneOffsetTime?new Date(this.serverTime.getTime()+this.timeZoneOffsetTime):this.serverTime:this.sewiseVideo.liveTime()},c.fn.playTime=function(a){return this.isLive&&this.isHtml5?a&&0!==this.timeZoneOffsetTime?new Date(this.livePlayTime.getTime()+this.timeZoneOffsetTime):this.livePlayTime:this.sewiseVideo.currentTime()},c.fn.setDuration=function(a){this.playVars.duration=a,this.skinController.duration(this.playVars.duration),this.isHtml5||this.sewiseVideo.setDuration(a)},c.fn.refreshTimeSpan=function(a,b,c,d){a&&b&&this.skinController.refreshTimes(a,b,c,d),c&&(this.timeZoneOffsetTime=new Date(c).getTime()-1e3*d),this.isHtml5||this.sewiseVideo.refreshTimeSpan(a,b,c,d)},c.fn.shareVideo=function(){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.SHARE_VIDEO)},c.fn.getVideo=function(){return this.isHtml5?this.sewiseVideo.videoObject:this.sewiseVideo.videoObject.flashPlayer},c.fn.setPlaybackRate=function(a){this.isHtml5&&this.sewiseVideo.videoObject.playbackRate&&(this.sewiseVideo.videoObject.playbackRate=a)},c.fn.getPlaybackRate=function(){return this.isHtml5?this.sewiseVideo.videoObject.playbackRate:1},c.fn.clearVideo=function(){this.stop(),this.isHtml5&&(this.sewiseVideo.videoObject.src=""),this.skinController.stopped(),this.playVars.url="#",this.skinController.setPlayTimeOffset(0,0),this.skinController.duration(0),this.skinController.timeUpdate(0),this.skinController.loadedProgress(0),this.skinController.title("")}}(window.Sewise,window.jQuery),function(a,b){var c=a.SewiseVideo=function(a,b,c){this.videoObject=null,this.playerType=a,this.playVars=null,this.isLive=b,this.isHtml5=!0,this.isCanPlay=!1,this.startTime=0,this.loadPt=0,this.videoContainer=null,this.playerID=c};c.fn=c.prototype,b.extend(c.prototype,a.Event),c.prototype.init=function(c,d){function e(){f.loadedCompleteHandler(),f.videoObject.removeEventListener("canplay",e,!1),f.isCanPlay=!0,f.startTime>0&&(f.isHtml5?f.videoObject.currentTime=f.startTime:f.videoObject.setCurrentTime(f.startTime))}this.playVars=c,this.videoContainer=d;var f=this;this.playerType==a.GlobalConstant.HTML5?(this.isHtml5=!0,this.isCanPlay=!1,a.video&&!a.Utils.browser.versions.ios&&a.Utils.browser.versions.mobile?(this.videoObject=a.video,this.videoObject.pause()):(this.videoObject=document.createElement("video"),this.playVars.playsinline&&this.videoObject.setAttribute("webkit-playsinline",!0),a.video=this.videoObject),this.videoObject.autoplay=!1,this.videoObject.controls=!0,this.videoObject.loop=!1,d.append(this.videoObject),this.videoObject.addEventListener("canplay",e,!1)):(this.isHtml5=!1,this.videoObject=new a.FlashVideo(this.isLive,this.playerID)),this.videoObject.addEventListener("emptied",b.proxy(this.emptiedOpenHandler,this),!1),this.videoObject.addEventListener("waiting",b.proxy(this.waitingOpenHandler,this),!1),this.videoObject.addEventListener("seeking",b.proxy(this.seekingHandler,this),!1),this.videoObject.addEventListener("seeked",b.proxy(this.seekedHandler,this),!1),this.videoObject.addEventListener("play",b.proxy(this.playStartHandler,this),!1),this.videoObject.addEventListener("playing",b.proxy(this.playStartHandler,this),!1),this.videoObject.addEventListener("pause",b.proxy(this.playPauseHandler,this),!1),this.videoObject.addEventListener("ended",b.proxy(this.playEndedHandler,this),!1),this.videoObject.addEventListener("durationchange",b.proxy(this.durationChangeHandler,this),!1),this.videoObject.addEventListener("timeupdate",b.proxy(this.timeupdateHandler,this),!1),this.videoObject.addEventListener("progress",b.proxy(this.loadProgressHandler,this),!1),this.videoObject.addEventListener("bufferprogress",b.proxy(this.bufferProgressHandler,this),!1),this.videoObject.addEventListener("loadedmetadata",b.proxy(this.metadataHandler,this),!1),this.videoObject.addEventListener("beforePlay",b.proxy(this.beforePlayHandler,this),!1),this.videoObject.addEventListener("hlsEvents",b.proxy(this.hlsEventHandler,this),!1),this.videoObject.addEventListener("skinStateChange",b.proxy(this.skinShowStateHandler,this),!1)
},c.prototype.readyPlay=function(){if(this.isHtml5)this.fireEvent("sewiseVideoReady");else{var a=this;this.videoObject.on("flash_playerReady",function(){a.isCanPlay=!0,a.fireEvent("sewiseVideoReady")}),this.videoObject.renderTo(this.playVars,this.videoContainer)}},c.prototype.updatePlayer=function(a,b,c,d,e,f,g,h){function i(){k.videoObject.removeEventListener("canplay",i,!1),k.isCanPlay=!0,k.startTime>0&&(k.isHtml5?k.videoObject.currentTime=k.startTime:k.videoObject.setCurrentTime(k.startTime))}var j={mp4:"video/mp4",ogg:"video/ogg",webm:"video/webm",m3u8:"application/x-mpegURL"};this.isCanPlay=!1;var k=this,l=this.videoObject;if(l.addEventListener("canplay",i,!1),this.startTime=c,d&&(l.poster=d),l.volume=g,f){if(l.canPlayType)if(""!==l.canPlayType(j[e]))l.src=a;else for(var m in f)if(""!==l.canPlayType(j[m])){l.src=f[m];break}}else h||(l.src=a)},c.fn.play=function(){this.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY),this.videoObject.autoplay=!0,this.videoObject.play()},c.fn.pause=function(){this.videoObject.pause()},c.fn.seek=function(a){this.isCanPlay?this.isHtml5?this.videoObject.currentTime=a:this.videoObject.setCurrentTime(a):(this.videoObject.autoplay=!0,this.videoObject.play())},c.fn.stop=function(){this.isHtml5?(this.videoObject.currentTime&&(this.videoObject.currentTime=0),this.videoObject.pause()):this.videoObject.stop()},c.fn.duration=function(){return this.isHtml5?this.isLive?this.playVars.duration:this.videoObject.duration:this.videoObject.getDuration()},c.fn.currentTime=function(){return this.isHtml5?this.videoObject.currentTime:this.videoObject.getCurrentTime()},c.fn.muted=function(a){this.videoObject&&(this.isHtml5?this.videoObject.muted=a:this.videoObject.muted(a))},c.fn.controls=function(a){this.videoObject.controls=a},c.fn.volume=function(a){this.isHtml5?this.videoObject.volume=a:this.videoObject.setVolume(a)},c.fn.bufferPt=function(){return this.loadPt},c.fn.live=function(){this.videoObject.live()},c.fn.liveTime=function(){return this.videoObject.liveTime()},c.fn.toPlay=function(a,b,c,d){this.videoObject.toPlay(a,b,c,d)},c.fn.playProgram=function(a,b,c){this.isLive?this.videoObject.playChannel(a,b,c):this.videoObject.playProgram(a,b,c)},c.fn.setDuration=function(a){this.videoObject.setDuration(a)},c.fn.refreshTimeSpan=function(a,b,c,d){this.videoObject.refreshTimeSpan(a,b,c,d)},c.fn.loadedCompleteHandler=function(){this.fireEvent(a.SewisePlayerEvent.LOAD_COMPLETE)},c.fn.loadedOpenHandler=function(){this.fireEvent(a.SewisePlayerEvent.LOAD_OPEN)},c.fn.emptiedOpenHandler=function(){},c.fn.waitingOpenHandler=function(){this.loadedOpenHandler()},c.fn.playStartHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_START)},c.fn.playPauseHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_PAUSE)},c.fn.playEndedHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_ENDED)},c.fn.durationChangeHandler=function(){this.fireEvent(a.SewisePlayerEvent.DURATION_CHANGE)},c.fn.timeupdateHandler=function(){this.fireEvent(a.SewisePlayerEvent.TIME_UPDATE)},c.fn.loadProgressHandler=function(b){if(this.isHtml5){if(this.videoObject.buffered&&this.videoObject.duration>0)try{this.loadPt=this.videoObject.buffered.end(0)/this.videoObject.duration}catch(c){this.loadPt=0}}else this.loadPt=parseFloat(b);this.fireEvent(a.SewisePlayerEvent.LOAD_PROGRESS,{progress:this.loadPt})},c.fn.seekingHandler=function(b){this.fireEvent(a.SewisePlayerEvent.LOAD_OPEN),this.fireEvent(a.SewisePlayerEvent.SEEK,b)},c.fn.seekedHandler=function(){this.loadedCompleteHandler()},c.fn.metadataHandler=function(b){this.fireEvent(a.SewisePlayerEvent.METADATA,b)},c.fn.beforePlayHandler=function(){this.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY)},c.fn.hlsEventHandler=function(b){this.fireEvent(a.SewisePlayerEvent.FLASH_HLS_EVENTS,b)},c.fn.skinShowStateHandler=function(b){this.fireEvent(a.SewisePlayerEvent.SKIN_SHOWSTATE_CHANGE,b)},c.fn.bufferProgressHandler=function(b){this.fireEvent(a.SewisePlayerEvent.BUFFER_PROGRESS,{progress:b})}}(window.Sewise,window.jQuery),function(a){var b=a.GlobalParams=function(b){this.server="",this.type="",this.swfPath="",this.primary="html5",this.isMobile=!1,this.supportH5=!0,this.supportFlash=!1,this.supportHls=!1,this.porthost=null,this.playerType="",this.parameObj=b,this.programId="",this.hlsjs=!1,this.protocal="hls",this.mediaType=a.GlobalConstant.VIDEO,this.calculateOffTop=!0};b.prototype.init=function(){this.hlsjs="true"==this.parameObj.hlsjs?!0:"fasle"==this.parameObj?!1:this.parameObj.hlsjs;var b=this.parameObj.url;if(b)if("#"===b)this.server=this.parameObj.server?this.parameObj.server:"vod",this.type=this.parameObj.type?this.parameObj.type:"mp4";else{var c=a.Utils.parseURL(b);if("vod:"==c.protocol)this.server="vod",this.programId=c.segments[1],this.porthost=c.host,c.port&&(this.porthost+=":"+c.port),this.type="m3u8";else if("live:"==c.protocol)this.server="live",this.programId=c.segments[1],c.segments[2]&&(this.protocal=c.segments[2]),this.porthost=c.host,c.port&&(this.porthost+=":"+c.port),this.type="m3u8";else{var d=b.substr(b.length-4,4);"rtmp:"==c.protocol?(this.server="live",this.type="rtmp",this.parameObj.streamurl=b):d.indexOf("mp4")>=0?(this.server="vod",this.type="mp4",this.parameObj.videourl=b):d.indexOf("flv")>=0?(this.server="vod",this.type="flv",this.parameObj.videourl=b):d.indexOf("m3u8")>=0?(this.parameObj.server&&"live"==this.parameObj.server?(this.server="live",this.parameObj.streamurl=b):(this.server="vod",this.parameObj.videourl=b),this.type="m3u8"):(this.type=this.parameObj.type,this.parameObj.server&&"live"==this.parameObj.server?(this.server="live",this.parameObj.streamurl=b):(this.server="vod",this.parameObj.videourl=b))}}else this.server="vod",this.type=this.parameObj.type;this.parameObj.swfpath&&(this.swfPath=this.parameObj.swfpath),this.parameObj.primary&&(this.primary=this.parameObj.primary),this.calculateOffTop="false"==this.parameObj.calculateOffTop?!1:this.parameObj.calculateOffTop,this.isMobile=a.Utils.browser.versions.mobile,this.supportH5=a.Utils.browser.supportH5,this.supportFlash=a.Utils.browser.supportFlash,this.supportHls=a.Utils.browser.supportHls,this.playerType=this.getPlayerType()},b.prototype.getPlayerId=function(){},b.prototype.getServerType=function(){return this.server},b.prototype.getSwfPath=function(){return this.swfPath},b.prototype.getMediaType=function(){return this.mediaType},b.prototype.getPlayerType=function(){if(this.parameObj.playerType)return this.playerType=this.parameObj.playerType,this.parameObj.playerType;if(this.server==a.GlobalConstant.VOD)switch(this.type){case a.GlobalConstant.FLV:this.playerType=this.supportFlash?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5;break;case a.GlobalConstant.MP4:this.playerType=this.supportH5&&"flash"!==this.primary||!this.supportFlash?a.GlobalConstant.HTML5:a.GlobalConstant.FLASH;break;case a.GlobalConstant.M3U8:this.playerType=this.supportH5&&this.isMobile&&"flash"!==this.primary||!this.supportFlash?a.GlobalConstant.HTML5:this.supportHls&&this.hlsjs?a.GlobalConstant.HTML5:a.GlobalConstant.FLASH;break;case a.GlobalConstant.MP3:this.playerType=this.supportFlash&&"html5"!==this.primary||!this.supportH5?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5,this.mediaType=a.GlobalConstant.AUDIO}else if(this.server==a.GlobalConstant.LIVE)switch(this.type){case a.GlobalConstant.RTMP:this.playerType=this.supportFlash?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5;break;case a.GlobalConstant.HTTP:this.playerType=this.supportFlash?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5;break;case a.GlobalConstant.M3U8:this.playerType=this.supportH5&&this.isMobile&&"flash"!==this.primary||!this.supportFlash?a.GlobalConstant.HTML5:this.supportHls&&this.hlsjs?a.GlobalConstant.HTML5:a.GlobalConstant.FLASH;break;case a.GlobalConstant.MP3:this.playerType=this.supportFlash&&"html5"!==this.primary||!this.supportH5?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5,this.mediaType=a.GlobalConstant.AUDIO}return this.playerType},b.prototype.getPlayVars=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=this.parameObj;if(i=K.skin,j=K.skin,i?(J={},J.skinCssPath=a.localPath+"html/skins/"+i+"/skin.css",J.skinHtmlPath=a.localPath+"html/skins/"+i+"/skin.html",J.skinHtmlJsPath=a.localPath+"html/skins/"+i+"/skin.html.js",i=J):i="",e=K.lang?K.lang:"en_US",f=K.logo?K.logo:"http://player.sewise.com/playerimages/logo.png",h=this.type,s=K.volume?K.volume:.8,t=K.key?K.key:"",m=K.published?K.published:0,n=K.poster?K.poster:"",k=K.title?K.title:"",B=K.claritybtndisplay?K.claritybtndisplay:"enable",C=K.timedisplay?K.timedisplay:"enable",D=K.controlbardisplay?K.controlbardisplay:"enable",E=K.topbardisplay?K.topbardisplay:"enable",F=K.bigplaybtndisplay?K.bigplaybtndisplay:"enable",l=K.draggable?K.draggable:"true",d=this.programId?this.programId:"",G="true"==K.playsinline?!0:"false"==K.playsinline?!1:K.playsinline,"false"==K.autostart?K.autostart=!1:"true"==K.autostart&&(K.autostart=!0),this.server==a.GlobalConstant.VOD){if(c=K.autostart?K.autostart:!1,g=K.buffer?K.buffer:2,w=K.starttime?K.starttime:0,this.playerType==a.GlobalConstant.HTML5)A="http://"+this.porthost+"/api/player/",u="string"==typeof K.videosjsonurl?K.videosjsonurl?JSON.parse(decodeURIComponent(K.videosjsonurl)):"":K.videosjsonurl?K.videosjsonurl:"",H="string"==typeof K.fallbackurls?K.fallbackurls?JSON.parse(decodeURIComponent(K.fallbackurls)):"":K.fallbackurls?K.fallbackurls:"",v=K.videourl?decodeURIComponent(K.videourl):"",o=K.playername?decodeURIComponent(K.playername):a.GlobalConstant.PLAYER_NAME,p=K.copyright?decodeURIComponent(K.copyright):a.GlobalConstant.PLAYER_COPYRIGHT,q=K.playerversion?decodeURIComponent(K.playerversion):a.GlobalConstant.PLAYER_VERSION,r=K.builddate?decodeURIComponent(K.builddate):a.GlobalConstant.BUILD_DATE;else if(this.playerType==a.GlobalConstant.FLASH){if(A="http://"+this.porthost+"/api/player/",u="string"==typeof K.videosjsonurl?K.videosjsonurl?K.videosjsonurl:"":K.videosjsonurl?encodeURIComponent(JSON.stringify(K.videosjsonurl,"","	")):"",v=K.encodeurl?K.videourl?encodeURIComponent(K.videourl):"":K.videourl?K.videourl:"",K.videourl&&!K.videourl.match(/(?:http|https|file):\/\//)){var L=window.location.href;v=L.slice(0,L.lastIndexOf("/")+1)+v}o=K.playername?K.playername:a.GlobalConstant.PLAYER_NAME,p=K.copyright?K.copyright:a.GlobalConstant.PLAYER_COPYRIGHT,q=K.playerversion?K.playerversion:a.GlobalConstant.PLAYER_VERSION,r=K.builddate?K.builddate:a.GlobalConstant.BUILD_DATE,I=this.swfPath?this.swfPath:""}}else this.server==a.GlobalConstant.LIVE&&(c=K.autostart?K.autostart:!0,g=K.buffer?K.buffer:.1,y=K.shifttime?K.shifttime:"",z=K.duration?K.duration:3600,this.playerType==a.GlobalConstant.HTML5?(A="http://"+this.porthost+"/api/player/",u="string"==typeof K.videosjsonurl?K.videosjsonurl?JSON.parse(decodeURIComponent(K.videosjsonurl)):"":K.videosjsonurl?K.videosjsonurl:"",x=K.streamurl?decodeURIComponent(K.streamurl):"",o=K.playername?decodeURIComponent(K.playername):a.GlobalConstant.PLAYER_NAME,p=K.copyright?decodeURIComponent(K.copyright):a.GlobalConstant.PLAYER_COPYRIGHT,q=K.playerversion?decodeURIComponent(K.playerversion):a.GlobalConstant.PLAYER_VERSION,r=K.builddate?decodeURIComponent(K.builddate):a.GlobalConstant.BUILD_DATE):this.playerType==a.GlobalConstant.FLASH&&(A="http://"+this.porthost+"/api/player/",u="string"==typeof K.videosjsonurl?K.videosjsonurl?K.videosjsonurl:"":K.videosjsonurl?encodeURIComponent(JSON.stringify(K.videosjsonurl,"","	")):"",x=K.encodeurl?K.streamurl?encodeURIComponent(K.streamurl):"":K.streamurl?K.streamurl:"",o=K.playername?K.playername:a.GlobalConstant.PLAYER_NAME,p=K.copyright?K.copyright:a.GlobalConstant.PLAYER_COPYRIGHT,q=K.playerversion?K.playerversion:a.GlobalConstant.PLAYER_VERSION,r=K.builddate?K.builddate:a.GlobalConstant.BUILD_DATE));return b={autoStart:c,programId:d,lang:e,logo:f,buffer:g,type:h,skin:i,skinClass:j,serverPath:A,fallbackUrls:H,title:k,draggable:l,published:m,videoUrl:v,startTime:w,poster:n,videosJsonUrl:u,playerName:o,copyright:p,playerVersion:q,buildDate:r,volume:s,key:t,swfPath:I,clarityBtnDisplay:B,timeDisplay:C,controlBarDisplay:D,topBarDisplay:E,bigPlayBtnDisplay:F,protocal:this.protocal,playsinline:G,hlsjs:this.hlsjs,shiftTime:y,streamUrl:x,duration:z,url:K.url,loadFlashPlugin:K.loadFlashPlugin,adsJSONStr:K.adsJSONStr}}}(window.Sewise),function(){"use strict";var a="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};e>d;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;b>d;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},raw:c};return c?(Object.defineProperties(d,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),void(a?module.exports=d:window.screenfull=d)):void(a?module.exports=!1:window.screenfull=!1)}(),function(a,b){a.ControlBar=function(c,d,f,g,h){function i(){vb=cb.width(),Ab=eb.width(),Y&&(nb?(Gb=Y.height(),W.hide()):Gb=Y.width()),Qb=a.Utils.browser.versions.mobile,Q.hide(),T.hide(),V.hide(),hb.hide(),a.Utils.browser.versions.mobile&&W&&W.hide(),K=setTimeout(o,Eb)}function j(){J&&(Qb?Cb?o():p():Db?J.pause():J.play())}function k(){"normal"==qb?pb.fullScreen():pb.noramlScreen()}function l(){Cb===!1&&(p(),K=setTimeout(o,Eb))}function m(){0!==K&&(clearTimeout(K),K=0)}function n(){0===K&&(K=setTimeout(o,Eb))}function o(){lb&&lb.hide(),C(),f.hide(),Cb=!1,J&&J.changeControlBarShowState(!1)}function p(){lb&&lb.show(),D(),f.show(),Cb=!0,J&&J.changeControlBarShowState(!0)}function q(a){if(document.selection&&document.selection.empty(),window.getSelection&&window.getSelection().removeAllRanges(),!(L&&bb.width()>db.width())){var b=zb+(a.pageX-xb);b>0&&Ab>b&&(bb.css("width",b),cb.css("left",b-vb/2))}}function r(a){M.unbind("mousemove",q),b(document).unbind("mouseup",r),yb=a.pageX,xb!=yb&&(zb=bb.width(),Bb=zb/Ab,L?v(Bb):J.seek(Bb*rb)),wb=!1}function s(a){e=a.originalEvent,cb.blur();var b=e.targetTouches[0];wb=!0,xb=b.pageX,zb=bb.width(),Ab=eb.width(),cb.bind("touchmove",t),cb.bind("touchend",u)}function t(a){if(!(L&&bb.width()>db.width())&&(e=a.originalEvent,1==e.targetTouches.length)){e.preventDefault();var b=e.targetTouches[0],c=zb+(b.pageX-xb);c>0&&Ab>c&&(bb.css("width",c),cb.css("left",c-vb/2))}}function u(a){if(e=a.originalEvent,cb.unbind("touchmove",t),cb.unbind("touchend",u),1==e.changedTouches.length){var b=e.changedTouches[0];yb=b.pageX,xb!=yb&&(zb=bb.width(),Bb=zb/Ab,L?v(Bb):J.seek(Bb*rb))}wb=!1}function v(b){var c=new Date(3600*Math.floor(J.playTime().getTime()/1e3/3600)*1e3+b*rb*1e3),d=a.SkinUtils.stringer.dateToTimeStr14(c);J.seek(d)}function w(){Ib>0?(J&&J.muted(!1),U.show(),V.hide()):(J&&J.muted(!0),U.hide(),V.show())}function x(a){document.selection&&document.selection.empty(),window.getSelection&&window.getSelection().removeAllRanges();var b;if(nb){b=Hb-(a.pageY-Kb);var c=ob-b;b>0&&Gb>b&&(X.css("height",b),Z.css("top",c-Fb/2))}else b=Hb+(a.pageX-Kb),b>0&&Gb>vCurrentValu&&(X.css("width",b),Z.css("left",b-Fb/2))}function y(a){M.unbind("mousemove",x),b(document).unbind("mouseup",y),Lb=nb?a.pageX:a.pageY,Kb!=Lb&&(Hb=nb?X.height():X.width(),Ib=Hb/Gb,J.setVolume(Ib),w()),Jb=!1}function z(a){e=a.originalEvent,Z.blur();var b=e.targetTouches[0];Jb=!0,Kb=b.pageX,Hb=nb?X.height():X.width(),Gb=nb?Y.height():Y.width(),Z.bind("touchmove",A),Z.bind("touchend",B)}function A(a){if(e=a.originalEvent,1==e.targetTouches.length){e.preventDefault();var b=e.targetTouches[0],c=Hb+(b.pageX-Kb);c>0&&Gb>c&&(X.css("width",c),Z.css("left",c-Fb/2))}}function B(a){if(e=a.originalEvent,Z.unbind("touchmove",A),Z.unbind("touchend",B),1==e.changedTouches.length){var b=e.changedTouches[0];Lb=b.pageX,Kb!=Lb&&(Hb=nb?X.height():X.width(),Ib=Hb/Gb,J.setVolume(Ib),w())}Jb=!1}function C(){O.css("visibility","hidden")}function D(){O.css("visibility","visible")}function E(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?d.fullScreen():(S.show(),T.hide(),d.normalScreen()),pb.timeUpdate(sb)}function F(){d&&d.resize(),pb.timeUpdate(sb)}function G(){d.fullScreen("not-support"),pb.timeUpdate(sb)}function H(c){b(window).unbind("resize",F),c.requestFullscreen?c.requestFullscreen():c.msRequestFullscreen?c.msRequestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?(c.webkitRequestFullscreen(),a.SkinUtils.browser.isXiaoMiBrowser()?G():a.SkinUtils.browser.isHuaweiBrowser()&&G()):N&&N.webkitEnterFullscreen?L?(d.fullScreen("not-support"),pb.timeUpdate(sb),b(window).bind("resize",G)):(N.play(),N.webkitEnterFullscreen(),S.show(),T.hide()):(d.fullScreen("not-support"),pb.timeUpdate(sb),b(window).bind("resize",G)),qb="full"}function I(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?(document.webkitCancelFullScreen(),E()):(d.normalScreen(),pb.timeUpdate(sb),b(window).unbind("resize",G)),qb="normal",b(window).bind("resize",F)}var J,K,L=h==a.GlobalConstant.LIVE?!0:!1,M=c.$container,N=c.$video,O=c.$controlbar,P=c.$playBtn,Q=c.$pauseBtn,R=c.$stopBtn,S=c.$fullscreenBtn,T=c.$normalscreenBtn,U=c.$soundopenBtn,V=c.$soundcloseBtn,W=c.$volumeline,X=c.$volumelineVolume,Y=c.$volumelineDragger,Z=c.$volumelinePoint,$=c.$playtime,_=c.$totaltime,ab=c.$shareBtn,bb=c.$progressPlayedLine,cb=c.$progressPlayedPoint,db=c.$progressLoadedLine,eb=c.$progressSeekLine,fb=c.$liveBtn,gb=c.$topbarClock,hb=c.$buffer,ib=c.$bufferTip,jb=c.$bufferText,kb=c.$bigPlayBtn,lb=c.$claritySwitchBtn,mb=c.$clarityBtnText,nb=!c.volumeline_hlayout,ob=X.height(),pb=this,qb="normal",rb=.1,sb=0,tb="00:00:00",ub="00:00:00",vb=0,wb=!1,xb=0,yb=0,zb=0,Ab=0,Bb=0,Cb=!0,Db=!1,Eb=5e3,Fb=0,Gb=0,Hb=0,Ib=0,Jb=!1,Kb=0,Lb=0,Mb=!1,Nb=0,Ob=0,Pb=0,Qb=!1,Rb=!0;i(),this.setScreenEvent=function(){var a;J.isHtml5?(a=M,a.click(function(){a.mousemove(),j()}),a.dblclick(function(){k()})):(a=J.sewiseVideo.videoObject,a.on("singleClick",function(){j()}),a.on("doubleClick",function(){k()}))},Qb||(M.bind({mousemove:l,touchmove:l}),O.bind({mouseover:m,touchstart:m}),O.bind({mouseout:n,touchend:n})),O.click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0}),P.click(function(){J.play()}),Q.click(function(){J.pause()}),R.click(function(){J.stop()}),fb&&fb.click(function(){J.live()}),kb.click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,J.play()}),S.click(function(){pb.fullScreen()}),T.click(function(){pb.noramlScreen()}),U.click(function(){J.muted(!0)}),V.click(function(){J.muted(!1)}),nb&&(U.mouseenter(function(){Qb||W.show()}),U.mouseleave(function(){W.hide()}),W.mouseenter(function(){Qb||W.show()}),W.mouseleave(function(){W.hide()})),ab&&ab.click(function(){J&&J.shareVideo()}),lb&&lb.click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,g.toggle()}),eb.mousedown(function(a){if("#"!==J.playVars.url)if(zb=a.pageX-a.target.getBoundingClientRect().left,Ab=eb.width(),bb.css("width",zb),cb.css("left",zb-vb/2),Bb=zb/Ab,L)v(Bb);else{var b=rb-Nb-Ob;J.seek(Bb*b+Nb)}}),cb.mousedown(function(a){"#"!==J.playVars.url&&(this.blur(),wb=!0,xb=a.pageX,zb=bb.width(),Ab=eb.width(),M.bind("mousemove",q),b(document).bind("mouseup",r))}),cb.bind("touchstart",s),Y&&Y.mousedown(function(a){if(nb){var b=a.pageY-a.target.getBoundingClientRect().top;Hb=ob-b,Gb=Y.height(),X.css("height",Hb),Z.css("top",b-Fb/2)}else Hb=a.pageX-a.target.getBoundingClientRect().left,Gb=Y.width(),X.css("width",Hb),Z.css("left",Hb-Fb/2);Ib=Hb/Gb,J.setVolume(Ib),w()}),Z&&Z.mousedown(function(a){this.blur(),Jb=!0,nb?(Gb=Y.height(),Hb=X.height(),Kb=a.pageY):(Gb=Y.width(),Hb=X.width(),Kb=a.pageX),M.bind("mousemove",x),b(document).bind("mouseup",y)}),Z&&Z.bind("touchstart",z),document.addEventListener&&(document.addEventListener("fullscreenchange",E),document.addEventListener("MSFullscreenChange",E),document.addEventListener("mozfullscreenchange",E),document.addEventListener("webkitfullscreenchange",E)),b(window).bind("resize",F),this.setPlayer=function(a){J=a},this.started=function(){P.hide(),Q.show(),kb.hide(),Db=!0},this.paused=function(){P.show(),Q.hide(),Rb&&kb.show(),Db=!1},this.stopped=function(){P.show(),Q.hide(),Rb&&kb.show(),hb.hide(),Db=!1,pb.timeUpdate(rb)},this.setDuration=function(b){L?rb=b:(rb=1/0!=b?b:3600,Pb>0&&(Ob=rb-Pb),b>=0&&(_?(ub=a.SkinUtils.stringer.secondsToMS(rb-Ob),_.text(ub)):ub=a.SkinUtils.stringer.secondsToHMS(rb-Ob)))},this.timeUpdate=function(b){if(!J||J.sewisePlayer.timeupdateOpen){var c;if(L){var d=J.playTime();if(!d)return;if(!d.getTime)return;if(Mb||(ub=a.SkinUtils.stringer.dateToStrHMS(new Date(Math.ceil(d.getTime()/1e3/rb)*rb*1e3)),tb=a.SkinUtils.stringer.dateToStrHMS(new Date(Math.floor(d.getTime()/1e3/rb)*rb*1e3)),$.text(tb+"/"+ub)),wb)return;c=Math.floor(d.getTime()/1e3)%rb/rb;var e,f=J.liveTime(),g=Math.ceil(d.getTime()/1e3/3600),h=Math.floor(f.getTime()/1e3/3600);e=h>=g?1:Math.floor(f.getTime()/1e3)%rb/rb;var i=100*e+"%";db.css("width",i)}else{(void 0===b||1/0===b||0>b)&&(b=0),sb=b;var j=sb;if(j=0>j?0:j,0===j&&Nb&&Pb&&(j=Nb),_?(tb=a.SkinUtils.stringer.secondsToMS(j),$.text(tb)):(tb=a.SkinUtils.stringer.secondsToHMS(j),$.text(tb+"/"+ub)),wb)return;c=(sb-Nb)/(rb-Nb-Ob)}zb=100*c+"%",bb.css("width",zb);var k=bb.width()-vb/2;cb.css("left",k)}},this.setPlayTimeOffset=function(b,c){Nb=parseFloat(b),Ob=rb-parseFloat(c),Pb=parseFloat(c),_?(ub=a.SkinUtils.stringer.secondsToMS(c),_.text(ub)):ub=a.SkinUtils.stringer.secondsToHMS(c)},this.loadProgress=function(a){var b=100*a+"%";db.css("width",b)},this.initVolume=function(a){if(X){if(Ib=a,Hb=Gb*Ib,nb){var b=ob-Hb;X.css("height",Hb),Z.css("top",b-Fb/2)}else X.css("width",Hb),Z.css("left",Hb-Fb/2);w()}},this.muted=function(a){a?(U.hide(),V.show(),X&&(nb?(X.css("height",0),Z.css("top",ob-Fb/2)):(X.css("width",0),Z.css("left",-Fb/2)))):(U.show(),V.hide(),X&&(nb?(X.css("height",Hb),Z.css("top",ob-Hb-Fb/2)):(X.css("width",Hb),Z.css("left",Hb-Fb/2))))},this.hide2=function(){O.hide()},this.hideTopbarClock=function(){gb.hide()},this.hideClarityBtn=function(){lb&&lb.hide()},this.hideBigPlayBtn=function(){kb&&kb.hide(),Rb=!1},this.updateClarityBtnPosition=function(){lb&&(lb.css("top","0%"),lb.css("margin-top","-5px"))},this.updateClarityBtnText=function(a){mb&&mb.text(a)},this.fullScreen=function(){J&&J.changeFullScreen(!0),S.hide(),T.show(),H(M.get(0))},this.noramlScreen=function(){J&&J.changeFullScreen(!1),S.show(),T.hide(),I()},this.showBuffer=function(){hb.show()},this.hideBuffer=function(){hb.hide()},this.bufferProgress=function(a){jb.text(parseFloat(a)>0?parseInt(100*a)+"%":"...")},this.initLanguage=function(){var b=a.SkinUtils.language.getString("loading");ib.text(b)},this.refreshTimes=function(b,c){Mb=!0,$.text(b+"/"+c);var d=a.SkinUtils.stringer.hmsToSeconds(c),e=a.SkinUtils.stringer.hmsToSeconds(b);rb=d>e?d-e:a.SkinUtils.stringer.hmsToSeconds("24:00:00")-e+d},this.getProgressSeekline=function(){return eb.get(0)},this.forceRefreshSize=function(){F()}}}(window.Sewise,window.jQuery),function(a,b){a.ElementLayout=function(c){function d(){0>s&&(s+=j.width(),j.hide()),i.css("width",s)}function e(){var b=0;return b=c.progressBarIsUp?0:f(a.Utils.browser.versions.mobile)}function f(a){var b=0;return b+=c.$playBtn.width(),b+=c.$playtime.outerWidth(!0),b+=c.$soundopenBtn.outerWidth(!0),b+=c.$fullscreenBtn.outerWidth(!0),b+=parseInt(c.$controlbarBtns.css("margin-left")),c.$stopBtn&&c.$stopBtn.length&&(b+=c.$stopBtn.outerWidth(!0)),c.$liveBtn&&c.$liveBtn.length&&(b+=c.$liveBtn.outerWidth(!0)),c.$volumeline&&!a&&c.$volumeline.length&&c.volumeline_hlayout&&(b+=c.$volumeline.outerWidth(!0)),c.$totaltime&&c.$totaltime.length&&(b+=c.$totaltime.outerWidth(!0)),b}var g,h=c.$container,i=c.$controlBarProgress,j=c.$playtime,k=c.defStageWidth,l=c.defStageHeight,m=c.defLeftValue,n=c.defTopValue,o=c.defOffsetX,p=c.defOffsetY,q=c.defOverflow,r=e(),s=parseInt(k)-r;d(),this.fullScreen=function(a){if("not-support"==a){b("body").css("overflow","hidden");var c=b(window).width(),d=b(window).height();h.css("width",c),h.css("height",d);var f=h.find("iframe"),k=f.length;if(k>0)for(var l,q=0;k>q;q++)l=f[q],b(l).height(d),b(l).trigger("sewiseIframeResize");if(g&&!g.globalParam.calculateOffTop);else{var s=b(document).scrollLeft(),t=b(document).scrollTop(),u=(parseInt(b("body").css("margin-left")),parseInt(b("body").css("margin-top"))),v=m-o+s+"px",w=n-p+t-u+"px";h.css("left",v),h.css("top",w)}}else h.css("width","100%"),h.css("height","100%");b("body").addClass("sewiseFullScreen"),r=e();var x=parseInt(b(window).width())-r;0>x?(x+=j.width(),j.hide()):j.show(),i.css("width",x)},this.normalScreen=function(){h.css("width","100%"),h.css("height","100%"),h.css("left",m),h.css("top",n);var a=h.find("iframe"),c=a.length;if(c>0)for(var d,f=0;c>f;f++)d=a[f],b(d).css("height","100%"),b(d).trigger("sewiseIframeResize");b("body").removeClass("sewiseFullScreen"),b("body").css("overflow",q),k=h.width(),r=e(),s=parseInt(k)-r,0>s?(s+=j.width(),j.hide()):j.show(),i.css("width",s)},this.resize=function(){k=h.width(),l=h.height(),r=e(),s=parseInt(k)-r,0>s?(s+=j.width(),j.hide()):j.show(),i.css("width",s)},this.setPlayer=function(a){g=a}}}(window.Sewise,window.jQuery),function(a,b){a.ElementObject=function(a,c){var d="#"+a+" ."+c+" .sewise-player-ui";this.$sewisePlayerUi=b(d),this.$container=this.$sewisePlayerUi.parent().parent(),this.$video=null,this.$controlbar=this.$sewisePlayerUi.find(".controlbar"),this.$controlbarBtns=this.$sewisePlayerUi.find(".controlbar-btns"),this.$playBtn=this.$sewisePlayerUi.find(".controlbar-btns-play"),this.$pauseBtn=this.$sewisePlayerUi.find(".controlbar-btns-pause"),this.$stopBtn=this.$sewisePlayerUi.find(".controlbar-btns-stop"),this.$fullscreenBtn=this.$sewisePlayerUi.find(".controlbar-btns-fullscreen"),this.$normalscreenBtn=this.$sewisePlayerUi.find(".controlbar-btns-normalscreen"),this.$soundopenBtn=this.$sewisePlayerUi.find(".controlbar-btns-soundopen"),this.$soundcloseBtn=this.$sewisePlayerUi.find(".controlbar-btns-soundclose"),this.$shareBtn=this.$sewisePlayerUi.find(".controlbar-btns-share").length>0?this.$sewisePlayerUi.find(".controlbar-btns-share"):null,this.$liveBtn=this.$sewisePlayerUi.find(".controlbar-btns-live").length>0?this.$sewisePlayerUi.find(".controlbar-btns-live"):null,this.$sewisePlayerUi.find(".controlbar-volumeline-volume").get(0)?(this.$volumeline=this.$sewisePlayerUi.find(".controlbar-volumeline"),this.$volumelineVolume=this.$sewisePlayerUi.find(".controlbar-volumeline-volume"),this.$volumelineDragger=this.$sewisePlayerUi.find(".controlbar-volumeline-dragger"),this.$volumelinePoint=this.$sewisePlayerUi.find(".controlbar-volumeline-point"),this.volumeline_hlayout=this.$controlbarBtns.find(".controlbar-volumeline").length>0?!0:!1):(this.$volumeline=null,this.$volumelineVolume=null,this.$volumelineDragger=null,this.$volumelinePoint=null),this.$playtime=this.$sewisePlayerUi.find(".controlbar-playtime"),this.$totaltime=this.$sewisePlayerUi.find(".controlbar-totaltime").get(0)?this.$sewisePlayerUi.find(".controlbar-totaltime"):null,this.$controlBarProgress=this.$sewisePlayerUi.find(".controlbar-progress"),this.$progressPlayedLine=this.$sewisePlayerUi.find(".controlbar-progress-playedline"),this.$progressPlayedPoint=this.$sewisePlayerUi.find(".controlbar-progress-playpoint"),this.$progressLoadedLine=this.$sewisePlayerUi.find(".controlbar-progress-loadedline"),this.$progressSeekLine=this.$sewisePlayerUi.find(".controlbar-progress-seekline"),this.$logo=this.$sewisePlayerUi.find(".logo"),this.$logoIcon=this.$sewisePlayerUi.find(".logo-icon"),this.$topbar=this.$sewisePlayerUi.find(".topbar"),this.$programTip=this.$sewisePlayerUi.find(".topbar-program-tip"),this.$programTitle=this.$sewisePlayerUi.find(".topbar-program-title"),this.$topbarClock=this.$sewisePlayerUi.find(".topbar-clock"),this.$buffer=this.$sewisePlayerUi.find(".buffer"),this.$bufferTip=this.$sewisePlayerUi.find(".buffer-text-tip"),this.$bufferText=this.$sewisePlayerUi.find(".buffer-text-bufferPt"),this.$bigPlayBtn=this.$sewisePlayerUi.find(".big-play-btn"),this.$sewisePlayerUi.find(".clarity-switch-btn").get(0)?(this.$claritySwitchBtn=this.$sewisePlayerUi.find(".clarity-switch-btn"),this.$clarityBtnText=this.$sewisePlayerUi.find(".clarity-btn-text")):(this.$claritySwitchBtn=null,this.$clarityBtnText=null),this.progressBarIsUp=this.$controlbarBtns.find(".controlbar-progress").length>0?!1:!0,this.defStageWidth=this.$container.width(),this.defStageHeight=this.$container.height(),this.defLeftValue=parseInt(this.$container.css("left")),this.defTopValue=parseInt(this.$container.css("top")),this.defOffsetX=this.$container.get(0).getBoundingClientRect().left,this.defOffsetY=this.$container.get(0).getBoundingClientRect().top,this.defOverflow=b("body").css("overflow"),this.getVideo=function(){this.$video=this.$container.find("video").get(0)}}}(window.Sewise,window.jQuery),function(a){a.LogoBox=function(a){var b=a.$logoIcon;b.click(function(a){a.originalEvent.stopPropagation()});var c="http://www.sewise.com/";this.setLogo=function(a){b.css("background","url("+a+") 0px 0px no-repeat"),b.attr("href",c)},this.setLink=function(a){c=a,b.attr("href",c)}}}(window.Sewise,window.jQuery),function(a,b){var c=a.PlayerSkinLoader=function(c,d){function e(){q||(q=!0,g())}function f(){alert("skinLoadedError")}function g(){var d=document.getElementsByTagName("body")[0],e=document.createElement("iframe");e.style.display="none",e.src=n,e.onload=e.onreadystatechange=function(){try{if(null===e)return;var d;d=e.contentWindow.document.getElementsByClassName?e.contentWindow.document.getElementsByClassName("sewise-player-ui")[0]:h("sewise-player-ui",e.contentWindow.document)[0];var f=document.createElement("div");c.append(f),f.outerHTML=d.outerHTML,b(e).remove(),e=null,p.fireEvent(a.SewisePlayerEvent.PLAYER_SKIN_LOADED)}catch(g){b(e).remove(),r||(r=!0,i())}},d.appendChild(e)}function h(a,b){for(var c=b.getElementsByTagName("*"),d=c.length,e=[],f=0;d>f;f++){var g=c[f].className||"";if(!(g.indexOf(a)<0)){g=g.split(/\s+/);for(var h=g.length,i=0;h>i;i++)if(a==g[i]){e.push(c[f]);break}}}return e}function i(){a.Utils.loader.loadJsFile("override",o,j,k)}function j(){var b=window.SewisePlayerSkin.localSkin;c.append(l(b)[0]),p.fireEvent(a.SewisePlayerEvent.PLAYER_SKIN_LOADED)}function k(){f()}function l(a){var b=document.createElement("div");return"string"==typeof a&&(b.innerHTML=a),b.childNodes}var m=d.skinCssPath,n=d.skinHtmlPath,o=d.skinHtmlJsPath,p=this,q=!1,r=!1;this.load=function(b){c.addClass(b),a.Utils.loader.loadCssFile(m,e,f)}};b.extend(c.prototype,a.Event)}(window.Sewise,window.jQuery),function(a,b){a.ClarityWindow=function(c){var d,e,f,g,h,i=c.$container,j="",k="",l=0,m=0;this.setPlayer=function(a){d=a},this.setControlBar=function(a){e=a},this.initialClarities=function(c){j="",k="",l=0,m=0;
var n=a.SkinUtils.language.getString("claritySetting"),o=a.SkinUtils.language.getString("clarityOk"),p=a.SkinUtils.language.getString("clarityCancel");g=c,h=g.length;for(var q=0;h>q;q++){var r;g[q].selected?(r=' checked = "checked" ',l=q,e.updateClarityBtnText(g[q].name)):r=" ",j+='<input style="width: 20px; height: 18px; " type="radio" name="radio_clarity"'+r+'"value="'+g[q].name+'">'+g[q].name+"\n"}k='<div style="position:absolute; width: 300px; height: 140px; color: #FFF; border: 2px solid #FF9501; padding: 10px; background:rgba(255, 149, 1, 0.3); "><div><div style="float: left; ">'+n+'</div><div style="float: right; "><a href="javascript:;" name="cancel_clarity" style="color: #FFF; font-weight:bold; text-decoration: none; padding: 4px 6px; ">X</a></div></div><div style="width: 100%; height: 40px; padding: 30px 0px 10px 0px; text-align: center; clear: both;">'+j+'</div><div style="padding: 10px; text-align: center; "><a href="javascript:;" name="confirm_clarity" style="color: #FFF; text-decoration: none; background-color: #FF9501; padding: 5px 10px; margin-right: 20px; ">'+o+'</a><a href="javascript:;" name="cancel_clarity" style="color: #FFF; text-decoration: none; background-color: #FF9501; padding: 5px 10px; margin-left: 20px; ">'+p+"</a></div><div>",f&&f.remove(),f=b("<div></div>"),f.html(k),f.css({position:"absolute",left:"50%",top:"50%","margin-left":"-162px","margin-top":"-82px"}),f.hide(),f.appendTo(i),f.click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0}),f.find("[name = confirm_clarity]").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,f.hide(),l!=m&&(l=m,e.updateClarityBtnText(g[l].name),d.changeClarity({name:g[l].name,videoUrl:g[l].videoUrl,id:g[l].id,selected:!0}))}),f.find("[name = cancel_clarity]").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,f.hide(),m=l}),f.find("[name = radio_clarity]").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,m=b(a.target).index()})},this.toggle=function(){f.toggle(),f.find("[name = radio_clarity]").get(l).checked=!0,m=l}}}(window.Sewise,window.jQuery),function(a){a.SkinController=function(b,c,d){var e,f=d==a.GlobalConstant.LIVE?!0:!1,g=new a.ElementObject(b,c),h=new a.ElementLayout(g),i=new a.LogoBox(g),j=new a.TopBar(g,d),k=null;g.$claritySwitchBtn&&(k=new a.ClarityWindow(g));var l=new a.ControlBar(g,h,j,k,d);this.getVideo=function(){g.getVideo(),g.$video&&$(g.$video).css("pointer-events","none")},this.player=function(a){e=a,l.setPlayer(e),h.setPlayer(e),k&&k.setPlayer(e)},this.started=function(){l.hideBuffer(),l.started()},this.paused=function(){l.paused()},this.stopped=function(){l.stopped()},this.duration=function(a){l.setDuration(a)},this.timeUpdate=function(a){l.timeUpdate(a),f&&j.setLiveClock(e.playTime())},this.setPlayTimeOffset=function(a,b){l.setPlayTimeOffset(a,b)},this.bufferProgress=function(a){l.bufferProgress(a)},this.loadedProgress=function(a){l.loadProgress(a)},this.loadedOpen=function(){l.showBuffer()},this.loadedComplete=function(){l.hideBuffer()},this.programTitle=function(a){j.setTitle(a)},this.logo=function(a){i.setLogo(a)},this.title=function(a){j.setTitle(a)},this.volume=function(a){l.initVolume(a)},this.muted=function(a){l.muted(a)},this.initialClarity=function(a){k&&(k.setControlBar(l),k.initialClarities(a))},this.clarityBtnDisplay=function(a){"enable"!=a&&l.hideClarityBtn()},this.timeDisplay=function(a){"enable"!=a&&l.hideTopbarClock()},this.controlBarDisplay=function(a){"enable"!=a&&l.hide2()},this.topBarDisplay=function(a){"enable"!=a&&(j.hide2(),l.updateClarityBtnPosition())},this.bigPlayBtnDisplay=function(a){"enable"!=a&&l.hideBigPlayBtn()},this.customDatas=function(a){a&&a.logoLink&&i.setLink(a.logoLink)},this.fullScreen=function(){l.fullScreen()},this.normalScreen=function(){l.noramlScreen()},this.lang=function(b){a.SkinUtils.language.init(b),l.initLanguage(),j.initLanguage()},this.refreshTimes=function(a,b){l.refreshTimes(a,b)},this.setScreenEvent=function(){l.setScreenEvent()},this.getProgressSeekline=function(){return l.getProgressSeekline()},this.forceRefreshSize=function(){l.forceRefreshSize()}}}(window.Sewise),function(a){a.TopBar=function(b){var c=b.$topbar,d=b.$programTip,e=b.$programTitle,f=(b.$topbarClock,a.SkinUtils.language.getString("titleTip"));d.text(f),this.setLiveClock=function(){},this.setTitle=function(a){e.text(a)},this.show=function(){c.css("visibility","visible")},this.hide=function(){c.css("visibility","hidden")},this.hide2=function(){c.hide()},this.initLanguage=function(){var b=a.SkinUtils.language.getString("titleTip");d.text(b)}}}(window.Sewise,window.jQuery),function(a,b){var c=a.Sewise.SewisePlayer=function(b){this.config=b,this.playerContainer=null,this.videoContainer=null,this.skinContainer=null,this.config=b,this.plugins=null,this.timeupdateOpen=!0,this.globalParams=new a.Sewise.GlobalParams(b),this.globalParams.init(),this.isLive=this.globalParams.server==a.Sewise.GlobalConstant.LIVE?!0:!1,this.playerID="SewisePlayer"+c.guid++;this.globalParams.playerType;this.playController=new a.Sewise.PlayController(this.globalParams,this.playerID,this)};c.fn=c.prototype,b.extend(c,{guid:0,supportHls:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}()}),b.extend(c.fn,a.Sewise.Event),c.fn.startup=function(){var d;if(this.config.elid){var e="#"+this.config.elid;d=b(e)}else{var f=this.config.scriptElement.parentNode;d=b(f)}d.append(c.template),this.playerContainer=d.find(".sewiseplayer-container"),this.videoContainer=d.find(".sewiseplayer-video"),this.skinContainer=d.find(".sewiseplayer-skin"),this.playerContainer.attr("id",this.playerID),a.Sewise.Utils.loader.loadCssFile(a.Sewise.localPath+"css/sewiseplayer.css"),this.playController.startup(this.videoContainer,this.skinContainer)},c.template='<div class="sewiseplayer-container"><div class="sewiseplayer-video"></div><div class="sewiseplayer-skin"></div></div>',c.fn.play=function(){this.playController.play()},c.fn.pause=function(){this.playController.pause()},c.fn.stop=function(){this.playController.stop()},c.fn.seek=function(a){this.playController.seek(a)},c.fn.setVolume=function(a){this.playController.setVolume(a)},c.fn.muted=function(a){this.playController.muted(a)},c.fn.playProgram=function(a,b,c){this.isLive?this.playController.playChannel(a,b,c):this.playController.playProgram(a,b,c)},c.fn.toPlay=function(a,b,c,d){this.isLive?this.playController.toLivePlay(a,b,c,d):this.playController.toPlay(a,b,c,d)},c.fn.updateVideosjsonurl=function(a){this.isLive||this.playController.updateVideosjsonurl(a)},c.fn.duration=function(){return this.playController.duration()},c.fn.playTime=function(){return this.playController.playTime()},c.fn.getPlayerContainer=function(){return this.playerContainer.get(0)},c.fn.getVideoContainer=function(){return this.videoContainer.get(0)},c.fn.getSkinContainer=function(){return this.skinContainer.get(0)},c.fn.getVideo=function(){return this.playController.getVideo()},c.fn.clearVideo=function(){this.playController.clearVideo()},c.fn.setPlaybackRate=function(a){this.playController.setPlaybackRate(a)},c.fn.getPlaybackRate=function(){return this.playController.getPlaybackRate()},c.fn.forceRefreshSkinSize=function(){this.playController.skinController.forceRefreshSize()},c.fn.setDuration=function(a){this.playController.setDuration(a)},c.fn.fullScreen=function(){this.playController.skinController.fullScreen()},c.fn.normalScreen=function(){this.playController.skinController.normalScreen()},c.fn.changeClarity=function(a){this.playController.changeClarity(a)},c.fn.setPlayTimeOffset=function(a,b){this.playController.skinController.setPlayTimeOffset(a,b)},c.fn.live=function(){this.playController.live()},c.fn.liveTime=function(){return this.playController.liveTime()};var d=["SewisePlayer.js","sewise.player.min.js"],e=a.Sewise.Utils.getParameters(d);if(!a.Sewise.Utils.object.isEmpty(e)&&a.Sewise.Utils.object.paramsLength(e)>1){var f=new a.Sewise.SewisePlayer(e);f.startup(),a.SewisePlayer=f}}(window,window.jQuery);